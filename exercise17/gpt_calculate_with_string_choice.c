/*
Ваш код выглядит вполне корректным и выполняет задание правильно. Он
обрабатывает ситуации с вводом некорректных данных и ошибок при выборе
оператора. У вас также хорошо структурированы проверки и сообщения об ошибках. 

Однако, код можно немного упростить, чтобы избежать дублирования кода при
проверках. Вот упрощенный вариант вашего кода:
*/

#include <stdio.h>

int main() {
    char op;
    float n1, n2, result;

    printf("Введите оператор (+, -, *, /): ");
    if (scanf(" %c", &op) != 1 || (op != '+' && op != '-' && op != '*' && op != '/')) {
        printf("Ошибка: неверно выбран оператор.\n");
        return 1;
    }

    printf("Введите два числа: ");
    if (scanf("%f %f", &n1, &n2) != 2) {
        printf("Ошибка при вводе чисел.\n");
        return 1;
    }

    switch (op) {
        case '+':
            result = n1 + n2;
            break;
        case '-':
            result = n1 - n2;
            break;
        case '*':
            result = n1 * n2;
            break;
        case '/':
            if (n2 == 0) {
                printf("Ошибка: деление на ноль\n");
                return 1;
            }
            result = n1 / n2;
            break;
    }

    printf("Результат: %.2f\n", result);

    return 0;
}

// Этот вариант кода более компактный, так как объединяет проверки некорректного
// ввода оператора и ввода чисел в одном блоке  if. Кроме того, он сокращает
// повторение кода при выводе сообщений об ошибках.
